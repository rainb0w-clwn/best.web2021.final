{"ast":null,"code":"var _jsxFileName = \"/home/darrrks/WebstormProjects/test_proj/lol_front/src/components/Simulation/ActionItems.jsx\";\nimport React, { useMemo } from 'react';\nimport { Row, Col, Container } from 'react-bootstrap';\nimport { reduce as _reduce, map as _map } from 'lodash';\nimport { view } from '@risingstack/react-easy-state';\nimport AvailableActionItems from './AvailableActionItems';\nimport NotAvailableActionItems from './NotAvailableActionItems';\nimport { gameStore } from '../GameStore';\nimport { useStaticData } from '../StaticDataProvider';\nconst ActionItems = view(({\n  className,\n  location\n}) => {\n  const {\n    systems: gameSystems\n  } = gameStore;\n  const {\n    actions,\n    systems\n  } = useStaticData();\n  const actionListByRoles = useMemo(() => {\n    const actionsWithSystems = _map(actions, action => {\n      action.unavailableSystems = action.required_systems.filter(system => !gameSystems[system]);\n      return action;\n    });\n\n    return _reduce(actionsWithSystems, (result, action) => {\n      if (action.type !== location) {\n        return result;\n      }\n\n      const actionAvailability = action.unavailableSystems.length === 0 ? 'available' : 'notAvailable';\n      action.roles.forEach(role => {\n        (result[role] || (result[role] = {\n          available: [],\n          notAvailable: []\n        }))[actionAvailability].push(action);\n      });\n      return result;\n    }, {});\n  }, [actions, gameSystems, location]);\n  return /*#__PURE__*/React.createElement(Container, {\n    className: className,\n    id: `${location}_actions`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"font-weight-bold mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, location === 'local' ? 'LOCAL ACTIONS:' : 'HQ ACTIONS AND SECURITY ACTIONS:'))), _map(actionListByRoles, (actions, role) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-5\",\n    key: role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"border-bottom border-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, role))), /*#__PURE__*/React.createElement(AvailableActionItems, {\n    actionList: actions.available,\n    role: role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(NotAvailableActionItems, {\n    systems: systems,\n    actionList: actions.notAvailable,\n    role: role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }))));\n});\nexport default ActionItems;","map":{"version":3,"sources":["/home/darrrks/WebstormProjects/test_proj/lol_front/src/components/Simulation/ActionItems.jsx"],"names":["React","useMemo","Row","Col","Container","reduce","_reduce","map","_map","view","AvailableActionItems","NotAvailableActionItems","gameStore","useStaticData","ActionItems","className","location","systems","gameSystems","actions","actionListByRoles","actionsWithSystems","action","unavailableSystems","required_systems","filter","system","result","type","actionAvailability","length","roles","forEach","role","available","notAvailable","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,QAAoC,iBAApC;AACA,SAASC,MAAM,IAAIC,OAAnB,EAA4BC,GAAG,IAAIC,IAAnC,QAA+C,QAA/C;AACA,SAASC,IAAT,QAAqB,+BAArB;AAEA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,OAAOC,uBAAP,MAAoC,2BAApC;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,aAAT,QAA8B,uBAA9B;AAEA,MAAMC,WAAW,GAAGL,IAAI,CAAC,CAAC;AAAEM,EAAAA,SAAF;AAAaC,EAAAA;AAAb,CAAD,KAA6B;AACpD,QAAM;AAAEC,IAAAA,OAAO,EAAEC;AAAX,MAA2BN,SAAjC;AACA,QAAM;AAAEO,IAAAA,OAAF;AAAWF,IAAAA;AAAX,MAAuBJ,aAAa,EAA1C;AAEA,QAAMO,iBAAiB,GAAGnB,OAAO,CAAC,MAAM;AACtC,UAAMoB,kBAAkB,GAAGb,IAAI,CAACW,OAAD,EAAWG,MAAD,IAAY;AACnDA,MAAAA,MAAM,CAACC,kBAAP,GAA4BD,MAAM,CAACE,gBAAP,CAAwBC,MAAxB,CACzBC,MAAD,IAAY,CAACR,WAAW,CAACQ,MAAD,CADE,CAA5B;AAGA,aAAOJ,MAAP;AACD,KAL8B,CAA/B;;AAOA,WAAOhB,OAAO,CACZe,kBADY,EAEZ,CAACM,MAAD,EAASL,MAAT,KAAoB;AAClB,UAAIA,MAAM,CAACM,IAAP,KAAgBZ,QAApB,EAA8B;AAC5B,eAAOW,MAAP;AACD;;AAED,YAAME,kBAAkB,GACtBP,MAAM,CAACC,kBAAP,CAA0BO,MAA1B,KAAqC,CAArC,GACI,WADJ,GAEI,cAHN;AAKAR,MAAAA,MAAM,CAACS,KAAP,CAAaC,OAAb,CAAsBC,IAAD,IAAU;AAC7B,SAACN,MAAM,CAACM,IAAD,CAAN,KACEN,MAAM,CAACM,IAAD,CAAN,GAAe;AAAEC,UAAAA,SAAS,EAAE,EAAb;AAAiBC,UAAAA,YAAY,EAAE;AAA/B,SADjB,CAAD,EAEEN,kBAFF,EAGEO,IAHF,CAGOd,MAHP;AAID,OALD;AAOA,aAAOK,MAAP;AACD,KApBW,EAqBZ,EArBY,CAAd;AAuBD,GA/BgC,EA+B9B,CAACR,OAAD,EAAUD,WAAV,EAAuBF,QAAvB,CA/B8B,CAAjC;AAiCA,sBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAED,SAAtB;AAAiC,IAAA,EAAE,EAAG,GAAEC,QAAS,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QAAQ,KAAK,OAAb,GACG,gBADH,GAEG,kCAHN,CADF,CADF,CADF,EAUGR,IAAI,CAACY,iBAAD,EAAoB,CAACD,OAAD,EAAUc,IAAV,kBACvB;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,GAAG,EAAEA,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,8BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8CA,IAA9C,CADF,CADF,CADF,eAME,oBAAC,oBAAD;AACE,IAAA,UAAU,EAAEd,OAAO,CAACe,SADtB;AAEE,IAAA,IAAI,EAAED,IAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAUE,oBAAC,uBAAD;AACE,IAAA,OAAO,EAAEhB,OADX;AAEE,IAAA,UAAU,EAAEE,OAAO,CAACgB,YAFtB;AAGE,IAAA,IAAI,EAAEF,IAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADG,CAVP,CADF;AA+BD,CApEuB,CAAxB;AAsEA,eAAenB,WAAf","sourcesContent":["import React, { useMemo } from 'react';\nimport { Row, Col, Container } from 'react-bootstrap';\nimport { reduce as _reduce, map as _map } from 'lodash';\nimport { view } from '@risingstack/react-easy-state';\n\nimport AvailableActionItems from './AvailableActionItems';\nimport NotAvailableActionItems from './NotAvailableActionItems';\nimport { gameStore } from '../GameStore';\nimport { useStaticData } from '../StaticDataProvider';\n\nconst ActionItems = view(({ className, location }) => {\n  const { systems: gameSystems } = gameStore;\n  const { actions, systems } = useStaticData();\n\n  const actionListByRoles = useMemo(() => {\n    const actionsWithSystems = _map(actions, (action) => {\n      action.unavailableSystems = action.required_systems.filter(\n        (system) => !gameSystems[system],\n      );\n      return action;\n    });\n\n    return _reduce(\n      actionsWithSystems,\n      (result, action) => {\n        if (action.type !== location) {\n          return result;\n        }\n\n        const actionAvailability =\n          action.unavailableSystems.length === 0\n            ? 'available'\n            : 'notAvailable';\n\n        action.roles.forEach((role) => {\n          (result[role] ||\n            (result[role] = { available: [], notAvailable: [] }))[\n            actionAvailability\n          ].push(action);\n        });\n\n        return result;\n      },\n      {},\n    );\n  }, [actions, gameSystems, location]);\n\n  return (\n    <Container className={className} id={`${location}_actions`}>\n      <Row>\n        <Col xs={12}>\n          <h2 className=\"font-weight-bold mb-0\">\n            {location === 'local'\n              ? 'LOCAL ACTIONS:'\n              : 'HQ ACTIONS AND SECURITY ACTIONS:'}\n          </h2>\n        </Col>\n      </Row>\n      {_map(actionListByRoles, (actions, role) => (\n        <div className=\"my-5\" key={role}>\n          <Row>\n            <Col>\n              <h4 className=\"border-bottom border-primary\">{role}</h4>\n            </Col>\n          </Row>\n          <AvailableActionItems\n            actionList={actions.available}\n            role={role}\n          />\n          <NotAvailableActionItems\n            systems={systems}\n            actionList={actions.notAvailable}\n            role={role}\n          />\n        </div>\n      ))}\n    </Container>\n  );\n});\n\nexport default ActionItems;\n"]},"metadata":{},"sourceType":"module"}