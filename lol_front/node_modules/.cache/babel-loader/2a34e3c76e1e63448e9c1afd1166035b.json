{"ast":null,"code":"var _jsxFileName = \"/home/darrrks/WebstormProjects/test_proj/lol_front/src/components/Simulation/BudgetItems.jsx\";\nimport React, { useCallback, useMemo } from 'react';\nimport { Row, Col, Form, Button } from 'react-bootstrap';\nimport { filter as _filter } from 'lodash';\nimport { view } from '@risingstack/react-easy-state';\nimport { gameStore } from '../GameStore';\nimport { useStaticData } from '../StaticDataProvider';\nimport { numberToUsd } from '../../util';\nconst BudgetItems = view(({\n  className,\n  location\n}) => {\n  const {\n    budget,\n    mitigations: gameMitigations,\n    actions: {\n      toggleMitigation\n    },\n    popError,\n    closeError\n  } = gameStore;\n  const {\n    mitigations\n  } = useStaticData();\n  const availableMitigations = useMemo(() => _filter(mitigations, mitigation => mitigation[`is_${location}`] && !gameMitigations[`${mitigation.id}_${location}`]), [mitigations, location, gameMitigations]);\n  const submitAction = useCallback(event => {\n    var _event$target, _event$target$budgetI;\n\n    event.preventDefault();\n    event.stopPropagation();\n    const isValid = event.target.checkValidity() && ((_event$target = event.target) === null || _event$target === void 0 ? void 0 : (_event$target$budgetI = _event$target.budgetItems) === null || _event$target$budgetI === void 0 ? void 0 : _event$target$budgetI.value);\n\n    if (isValid) {\n      closeError();\n      toggleMitigation({\n        id: event.target.budgetItems.value,\n        type: location,\n        value: true\n      }, true);\n    } else {\n      popError('Please select an action.');\n    }\n  }, [popError, closeError, toggleMitigation, location]);\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitAction,\n    noValidate: true,\n    id: \"mitigations\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"PURCHASE AVAILABLE BUDGET ITEM:\")), /*#__PURE__*/React.createElement(Col, {\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-primary\",\n    className: \"rounded-pill w-100\",\n    type: \"submit\",\n    disabled: !availableMitigations.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"PURCHASE ITEM\")), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, availableMitigations.length ? availableMitigations.map(mitigation => /*#__PURE__*/React.createElement(Form.Check, {\n    custom: true,\n    required: true,\n    type: \"radio\",\n    className: \"custom-radio-right\",\n    key: mitigation.id,\n    label: /*#__PURE__*/React.createElement(Row, {\n      className: \"py-1 select-row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 23\n      }\n    }, mitigation.description), /*#__PURE__*/React.createElement(Col, {\n      xs: 2,\n      className: \"justify-content-end d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 23\n      }\n    }, numberToUsd(mitigation[`${location}_cost`]))),\n    name: \"budgetItems\",\n    disabled: budget < mitigation[`${location}_cost`],\n    id: mitigation.id,\n    value: mitigation.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })) : 'No budget item is available to purchase.')));\n});\nexport default BudgetItems;","map":{"version":3,"sources":["/home/darrrks/WebstormProjects/test_proj/lol_front/src/components/Simulation/BudgetItems.jsx"],"names":["React","useCallback","useMemo","Row","Col","Form","Button","filter","_filter","view","gameStore","useStaticData","numberToUsd","BudgetItems","className","location","budget","mitigations","gameMitigations","actions","toggleMitigation","popError","closeError","availableMitigations","mitigation","id","submitAction","event","preventDefault","stopPropagation","isValid","target","checkValidity","budgetItems","value","type","length","map","description"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo } from 'react';\nimport { Row, Col, Form, Button } from 'react-bootstrap';\nimport { filter as _filter } from 'lodash';\nimport { view } from '@risingstack/react-easy-state';\n\nimport { gameStore } from '../GameStore';\nimport { useStaticData } from '../StaticDataProvider';\nimport { numberToUsd } from '../../util';\n\nconst BudgetItems = view(({ className, location }) => {\n  const {\n    budget,\n    mitigations: gameMitigations,\n    actions: { toggleMitigation },\n    popError,\n    closeError,\n  } = gameStore;\n  const { mitigations } = useStaticData();\n\n  const availableMitigations = useMemo(\n    () =>\n      _filter(\n        mitigations,\n        (mitigation) =>\n          mitigation[`is_${location}`] &&\n          !gameMitigations[`${mitigation.id}_${location}`],\n      ),\n    [mitigations, location, gameMitigations],\n  );\n\n  const submitAction = useCallback(\n    (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      const isValid =\n        event.target.checkValidity() &&\n        event.target?.budgetItems?.value;\n      if (isValid) {\n        closeError();\n        toggleMitigation(\n          {\n            id: event.target.budgetItems.value,\n            type: location,\n            value: true,\n          },\n          true,\n        );\n      } else {\n        popError('Please select an action.');\n      }\n    },\n    [popError, closeError, toggleMitigation, location],\n  );\n\n  return (\n    <Form onSubmit={submitAction} noValidate id=\"mitigations\">\n      <Row className={className}>\n        <Col xs={9}>\n          <h2 className=\"font-weight-bold\">\n            PURCHASE AVAILABLE BUDGET ITEM:\n          </h2>\n        </Col>\n        <Col xs={3}>\n          <Button\n            variant=\"outline-primary\"\n            className=\"rounded-pill w-100\"\n            type=\"submit\"\n            disabled={!availableMitigations.length}\n          >\n            PURCHASE ITEM\n          </Button>\n        </Col>\n        <Col>\n          {availableMitigations.length\n            ? availableMitigations.map((mitigation) => (\n                <Form.Check\n                  custom\n                  required\n                  type=\"radio\"\n                  className=\"custom-radio-right\"\n                  key={mitigation.id}\n                  label={\n                    <Row className=\"py-1 select-row align-items-center\">\n                      <Col xs={10}>{mitigation.description}</Col>\n                      <Col\n                        xs={2}\n                        className=\"justify-content-end d-flex align-items-center\"\n                      >\n                        {numberToUsd(mitigation[`${location}_cost`])}\n                      </Col>\n                    </Row>\n                  }\n                  name=\"budgetItems\"\n                  disabled={budget < mitigation[`${location}_cost`]}\n                  id={mitigation.id}\n                  value={mitigation.id}\n                />\n              ))\n            : 'No budget item is available to purchase.'}\n        </Col>\n      </Row>\n    </Form>\n  );\n});\n\nexport default BudgetItems;\n"]},"metadata":{},"sourceType":"module"}