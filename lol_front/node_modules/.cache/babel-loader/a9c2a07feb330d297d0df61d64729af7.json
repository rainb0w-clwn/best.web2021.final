{"ast":null,"code":"var _jsxFileName = \"/home/darrrks/WebstormProjects/test_proj/lol_front/src/components/Simulation/ActionTable/Curveballs.jsx\";\nimport React, { useRef, useCallback } from 'react';\nimport { Row, Col, Button, Form } from 'react-bootstrap';\nimport { map as _map } from 'lodash';\nimport { useStaticData } from '../../StaticDataProvider';\nimport { gameStore } from '../../GameStore';\nimport { numberToUsd } from '../../../util';\n\nconst Curveballs = ({\n  className\n}) => {\n  const {\n    curveballs\n  } = useStaticData();\n  const {\n    actions: {\n      performCurveball\n    },\n    popError,\n    closeError\n  } = gameStore;\n  const formRef = useRef();\n  const submitCurveball = useCallback(event => {\n    var _event$target, _event$target$curveba;\n\n    event.preventDefault();\n    event.stopPropagation();\n    const isValid = event.target.checkValidity() && ((_event$target = event.target) === null || _event$target === void 0 ? void 0 : (_event$target$curveba = _event$target.curveballs) === null || _event$target$curveba === void 0 ? void 0 : _event$target$curveba.value);\n\n    if (isValid) {\n      closeError();\n      performCurveball({\n        curveballId: event.target.curveballs.value\n      });\n      formRef.current.reset();\n    } else {\n      popError('Please select an action.');\n    }\n  }, [popError, closeError, performCurveball]);\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitCurveball,\n    noValidate: true,\n    ref: formRef,\n    id: \"curveball\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"CURVEBALL EVENTS\")), /*#__PURE__*/React.createElement(Col, {\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-primary\",\n    className: \"rounded-pill w-100\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"TRIGGER EVENT\")), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, _map(curveballs, curveball => /*#__PURE__*/React.createElement(Form.Check, {\n    custom: true,\n    required: true,\n    type: \"radio\",\n    className: \"custom-radio-right\",\n    key: curveball.id,\n    label: /*#__PURE__*/React.createElement(Row, {\n      className: \"py-1 select-row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }\n    }, curveball.description), /*#__PURE__*/React.createElement(Col, {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, curveball.budget_change || curveball.lose_all_budget ? `Budget: ${curveball.budget_change > 0 && !curveball.lose_all_budget ? '+' : ''}${curveball.lose_all_budget ? 'Party loses all its money' : numberToUsd(curveball.budget_change)}` : '', curveball.poll_change && (curveball.budget_change || curveball.lose_all_budget) ? ', ' : '', curveball.poll_change ? `Poll: ${curveball.poll_change > 0 ? '+' : ''}${curveball.poll_change}%` : '')),\n    name: \"curveballs\",\n    id: curveball.id,\n    value: curveball.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default Curveballs;","map":{"version":3,"sources":["/home/darrrks/WebstormProjects/test_proj/lol_front/src/components/Simulation/ActionTable/Curveballs.jsx"],"names":["React","useRef","useCallback","Row","Col","Button","Form","map","_map","useStaticData","gameStore","numberToUsd","Curveballs","className","curveballs","actions","performCurveball","popError","closeError","formRef","submitCurveball","event","preventDefault","stopPropagation","isValid","target","checkValidity","value","curveballId","current","reset","curveball","id","description","budget_change","lose_all_budget","poll_change"],"mappings":"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","sourcesContent":["import React, { useRef, useCallback } from 'react';\nimport { Row, Col, Button, Form } from 'react-bootstrap';\nimport { map as _map } from 'lodash';\n\nimport { useStaticData } from '../../StaticDataProvider';\nimport { gameStore } from '../../GameStore';\nimport { numberToUsd } from '../../../util';\n\nconst Curveballs = ({ className }) => {\n  const { curveballs } = useStaticData();\n  const {\n    actions: { performCurveball },\n    popError,\n    closeError,\n  } = gameStore;\n\n  const formRef = useRef();\n\n  const submitCurveball = useCallback(\n    (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      const isValid =\n        event.target.checkValidity() &&\n        event.target?.curveballs?.value;\n      if (isValid) {\n        closeError();\n        performCurveball({\n          curveballId: event.target.curveballs.value,\n        });\n        formRef.current.reset();\n      } else {\n        popError('Please select an action.');\n      }\n    },\n    [popError, closeError, performCurveball],\n  );\n\n  return (\n    <Form\n      onSubmit={submitCurveball}\n      noValidate\n      ref={formRef}\n      id=\"curveball\"\n    >\n      <Row className={className}>\n        <Col xs={9}>\n          <h2 className=\"font-weight-bold\">CURVEBALL EVENTS</h2>\n        </Col>\n        <Col xs={3}>\n          <Button\n            variant=\"outline-primary\"\n            className=\"rounded-pill w-100\"\n            type=\"submit\"\n          >\n            TRIGGER EVENT\n          </Button>\n        </Col>\n        <Col>\n          {_map(curveballs, (curveball) => (\n            <Form.Check\n              custom\n              required\n              type=\"radio\"\n              className=\"custom-radio-right\"\n              key={curveball.id}\n              label={\n                <Row className=\"py-1 select-row align-items-center\">\n                  <Col xs={7}>{curveball.description}</Col>\n                  <Col className=\"text-right\">\n                    {curveball.budget_change ||\n                    curveball.lose_all_budget\n                      ? `Budget: ${\n                          curveball.budget_change > 0 &&\n                          !curveball.lose_all_budget\n                            ? '+'\n                            : ''\n                        }${\n                          curveball.lose_all_budget\n                            ? 'Party loses all its money'\n                            : numberToUsd(curveball.budget_change)\n                        }`\n                      : ''}\n                    {curveball.poll_change &&\n                    (curveball.budget_change ||\n                      curveball.lose_all_budget)\n                      ? ', '\n                      : ''}\n                    {curveball.poll_change\n                      ? `Poll: ${\n                          curveball.poll_change > 0 ? '+' : ''\n                        }${curveball.poll_change}%`\n                      : ''}\n                  </Col>\n                </Row>\n              }\n              name=\"curveballs\"\n              id={curveball.id}\n              value={curveball.id}\n            />\n          ))}\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Curveballs;\n"]},"metadata":{},"sourceType":"module"}