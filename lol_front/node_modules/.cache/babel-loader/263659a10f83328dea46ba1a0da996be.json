{"ast":null,"code":"var _jsxFileName = \"/home/darrrks/WebstormProjects/test_proj/lol_front/src/components/Simulation/AvailableActionItems.jsx\";\nimport React, { useCallback, useMemo, useRef } from 'react';\nimport { Row, Col, Form, Button, Container } from 'react-bootstrap';\nimport { view } from '@risingstack/react-easy-state';\nimport { gameStore } from '../GameStore';\nimport { reduce as _reduce } from 'lodash';\nimport { numberToUsd } from '../../util';\nconst AvailableActionItems = view(({\n  actionList,\n  role\n}) => {\n  const {\n    budget,\n    actions: {\n      performAction\n    },\n    popError,\n    closeError\n  } = gameStore;\n  const formRef = useRef();\n  const submitAction = useCallback(event => {\n    var _event$target, _event$target$actions;\n\n    event.preventDefault();\n    event.stopPropagation();\n    const isValid = event.target.checkValidity() && ((_event$target = event.target) === null || _event$target === void 0 ? void 0 : (_event$target$actions = _event$target.actions) === null || _event$target$actions === void 0 ? void 0 : _event$target$actions.value);\n\n    if (isValid) {\n      closeError();\n      performAction({\n        actionId: event.target.actions.value\n      });\n      formRef.current.reset();\n    } else {\n      popError('Please select an action.');\n    }\n  }, [popError, closeError, performAction]);\n  const actionResultDescriptions = useMemo(() => _reduce(actionList, (descriptions, action) => {\n    const resultDescription = [];\n    if (action.cost !== 0) resultDescription.push(`Cost: ${numberToUsd(action.cost)}`);\n    if (action.poll_increase !== 0) resultDescription.push(`Gain ${action.poll_increase}% in polls`);\n    if (action.budget_increase !== 0) resultDescription.push(`Raise: ${numberToUsd(action.budget_increase)}`);\n    descriptions[action.id] = resultDescription.join(', ');\n    return descriptions;\n  }, {}), [actionList]);\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"p-0 m-0 pl-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitAction,\n    noValidate: true,\n    className: \"mb-4\",\n    ref: formRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex align-items-center mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 8,\n    lg: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"m-0 font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"AVAILABLE ACTIONS:\")), /*#__PURE__*/React.createElement(Col, {\n    xs: 4,\n    lg: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-primary\",\n    className: \"rounded-pill w-100\",\n    type: \"submit\",\n    disabled: actionList.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"PERFORM ACTION\"))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, actionList.length ? actionList.map(action => /*#__PURE__*/React.createElement(Form.Check, {\n    custom: true,\n    required: true,\n    type: \"radio\",\n    className: \"custom-radio-right\",\n    key: `${role}_${action.id}`,\n    label: /*#__PURE__*/React.createElement(Row, {\n      className: \"py-1 select-row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, action.description), /*#__PURE__*/React.createElement(Col, {\n      className: \"flex-grow-1 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, actionResultDescriptions[action.id])),\n    name: \"actions\",\n    disabled: budget < action.cost,\n    id: `${role}_${action.id}`,\n    value: action.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  })) : 'No action item is available to purchase.'))));\n});\nexport default AvailableActionItems;","map":{"version":3,"sources":["/home/darrrks/WebstormProjects/test_proj/lol_front/src/components/Simulation/AvailableActionItems.jsx"],"names":["React","useCallback","useMemo","useRef","Row","Col","Form","Button","Container","view","gameStore","reduce","_reduce","numberToUsd","AvailableActionItems","actionList","role","budget","actions","performAction","popError","closeError","formRef","submitAction","event","preventDefault","stopPropagation","isValid","target","checkValidity","value","actionId","current","reset","actionResultDescriptions","descriptions","action","resultDescription","cost","push","poll_increase","budget_increase","id","join","length","map","description"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo, useRef } from 'react';\nimport { Row, Col, Form, Button, Container } from 'react-bootstrap';\nimport { view } from '@risingstack/react-easy-state';\nimport { gameStore } from '../GameStore';\nimport { reduce as _reduce } from 'lodash';\nimport { numberToUsd } from '../../util';\n\nconst AvailableActionItems = view(({ actionList, role }) => {\n  const {\n    budget,\n    actions: { performAction },\n    popError,\n    closeError,\n  } = gameStore;\n\n  const formRef = useRef();\n\n  const submitAction = useCallback(\n    (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      const isValid =\n        event.target.checkValidity() && event.target?.actions?.value;\n      if (isValid) {\n        closeError();\n        performAction({\n          actionId: event.target.actions.value,\n        });\n        formRef.current.reset();\n      } else {\n        popError('Please select an action.');\n      }\n    },\n    [popError, closeError, performAction],\n  );\n\n  const actionResultDescriptions = useMemo(\n    () =>\n      _reduce(\n        actionList,\n        (descriptions, action) => {\n          const resultDescription = [];\n          if (action.cost !== 0)\n            resultDescription.push(\n              `Cost: ${numberToUsd(action.cost)}`,\n            );\n          if (action.poll_increase !== 0)\n            resultDescription.push(\n              `Gain ${action.poll_increase}% in polls`,\n            );\n          if (action.budget_increase !== 0)\n            resultDescription.push(\n              `Raise: ${numberToUsd(action.budget_increase)}`,\n            );\n\n          descriptions[action.id] = resultDescription.join(', ');\n          return descriptions;\n        },\n        {},\n      ),\n    [actionList],\n  );\n\n  return (\n    <Container className=\"p-0 m-0 pl-3\">\n      <Form\n        onSubmit={submitAction}\n        noValidate\n        className=\"mb-4\"\n        ref={formRef}\n      >\n        <Row className=\"d-flex align-items-center mb-1\">\n          <Col xs={8} lg={9}>\n            <h6 className=\"m-0 font-weight-bold\">\n              AVAILABLE ACTIONS:\n            </h6>\n          </Col>\n          <Col xs={4} lg={3}>\n            <Button\n              variant=\"outline-primary\"\n              className=\"rounded-pill w-100\"\n              type=\"submit\"\n              disabled={actionList.length === 0}\n            >\n              PERFORM ACTION\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            {actionList.length\n              ? actionList.map((action) => (\n                  <Form.Check\n                    custom\n                    required\n                    type=\"radio\"\n                    className=\"custom-radio-right\"\n                    key={`${role}_${action.id}`}\n                    label={\n                      <Row className=\"py-1 select-row align-items-center\">\n                        <Col xs={9}>{action.description}</Col>\n                        <Col className=\"flex-grow-1 text-right\">\n                          {actionResultDescriptions[action.id]}\n                        </Col>\n                      </Row>\n                    }\n                    name=\"actions\"\n                    disabled={budget < action.cost}\n                    id={`${role}_${action.id}`}\n                    value={action.id}\n                  />\n                ))\n              : 'No action item is available to purchase.'}\n          </Col>\n        </Row>\n      </Form>\n    </Container>\n  );\n});\n\nexport default AvailableActionItems;\n"]},"metadata":{},"sourceType":"module"}